

###### 0606
* 15:05
  * 抛弃了昨天那个webview思路. 改为原生分栏思路, 目前在看分栏方案的问题.
  * 我靠, 想明白了, 不能有右子树的指示标志, 只有左子树的.
    * 默认都是右子树, 直到碰到左子树标志.
    * 从第一个左子树标志开始都是左子树, 忽略后面所有标记.
  * 道理是这样的: 一个西瓜切两半, 只需要一刀, 不能因为西瓜是两半, 就切两刀. 那样西瓜必然至少3瓣
* 19:05
  * 5点睡醒后. 逛了一下steam, 没想到时间过得这么快. 饿了, 去搞吃的.
* 20:58
* markdown需要ts代码处理吗? 这个不能直接json设置吗? 咱们新加的这两个分栏编辑的内容就是markdown可不可以?
  另外, 我在 setupSync  看到了大量的防御性代码, 例如: if (isSaving) return;, 以及后面的try, 他们在干啥? 有必要吗?
  并且这个函数中报错: - [ts Error] Line 151: Property 'subscriptions' does not exist on type 'SuiteFunction'.
* 02:17
  * 从log看, 分栏可能失败.
  * 目前运行的时候, 如果不报错, 那么文件的行数, 瞬间会增长到458749行, 并且, 当前还有一个问题, 三个分栏看起来一毛一样, 我并不知道哪个是左分栏, 哪个是右分栏, 哪个是原文件.
* 2:43
  * 洗了澡之后
  * 仔细想了一下, 咱们可能有更简洁的方案: 
    * 当用户打开a.ye时, 我们并不直接打开a.ye, 而是, 直接建立两个临时文件: a.ye.左.md, a.ye.右.md, 然后分栏打开这两个文件. 
    * 然后, 我们也不需要搞同步机制, 只要用户关闭左.md时, 把右.md也关闭, 并且把他们两个的文件内容合并为a.ye, 然后删除掉这两个临时文件(可选, 不做似乎也没啥问题).
    * 这样我们就解决了所有问题: markdown格式, 无限分栏, 同步循环, 2个分栏的装饰区分......

* 4:10
  * 用户如果打开了多个ye文件, 是否能保证每次同时关闭对应的临时文件?
  * 同样的, 是否能保证某个临时文件切换到前台显示时, 另一个临时文件也切换出来, 因为每栏其实只有1个tab是展示状态, 也就是要保持这个展示状态同步.

* 总之, 先测试一下, 再做其它改进.



###### 0605
* 10:27
  * 新建项目
* 11:29
  * 确定目录结构:
  * src/
├── extension.ts          # 入口
├── documentParser.ts     # 文档解析
├── editorProvider.ts     # 编辑器逻辑
└── webview/              # 前端资源
    ├── editor.html       # HTML模板
    ├── editor.css        # 样式
    └── editor.js         # 前端脚本
